<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>

<head>
<script type="text/javascript" src="../h.js"></script>

<title>Operator priority</title>

<link rel=StyleSheet href="../QM-Help.css">

</head>

<body>

<h1>Operator priority</h1>

<p> In QM, binary operators belong to 3 priority classes. At first are calculated 
  arithmetic and bitwise operators, then comparison operators, then logical operators. 
  Operators that belong to the same priority class are calculated from left to 
  right. Parentheses can be used to change this order.</p>
<p>&nbsp;</p>

<p> The two example statements below are equivalent (will be calculated in same 
  order). In the second example, complex expression is broken into several single-operator 
  expressions (<i>primary expressions</i>).</p>

<p>&nbsp;</p>

<pre class=cod>result <span class=o>=</span> a<span class=o>+</span>b<span class=o>*</span>c <span class=o>&#60;</span> d<span class=o>+</span>e <span class=fq>and</span> f <span class=o>&#62;</span> g<span class=o>*</span>h <span class=fq>or</span> i <span class=o>=</span> j
result <span class=o>=</span> <span class=p>(((((</span>a<span class=o>+</span>b<span class=p>)</span><span class=o>*</span>c<span class=p>)</span> <span class=o>&#60;</span> <span class=p>(</span>d<span class=o>+</span>e<span class=p>))</span> <span class=fq>and</span> <span class=p>(</span>f <span class=o>&#62;</span> <span class=p>(</span>g<span class=o>*</span>h<span class=p>)))</span> <span class=fq>or</span> <span class=p>(</span>i <span class=o>=</span> j<span class=p>))</span></pre>
<p>&nbsp;</p>
<p><a href="IDP_OPUNARY.html">Unary operators</a> are applied before <a href="IDH_OPERATORS.html">binary 
  operators</a>, but after operators <tt>.</tt> (member access) 
  and <tt>[]</tt> (array element access).</p>
<p>&nbsp;</p>
<p>QM bug: expressions containing both <span class="blue">or</span> and <span class="blue">and</span> operators without enclosing are evaluated incorrectly. For example, <span class=cod><span class=fq>out</span> <span class=p>(</span><span class=n>1</span> <span class=fq>or</span> <span class=n>0</span> <span class=fq>and</span> <span class=n>0</span><span class=p>)</span></span> is 1 (must be 0). Enclose parts, like <span class=cod><span class=fq>out</span> <span class=p>((</span><span class=n>1</span> <span class=fq>or</span> <span class=n>0</span><span class=p>)</span> <span class=fq>and</span> <span class=n>0</span><span class=p>)</span></span>. For backward compatibility it is not fixed, but QM detects such expressions and shows warning.</p>
<p>&nbsp;</p>

</body>

</html>
